---
layout: default
title: Tutorials
---
<script src="assets/createjs-min.js"></script>
<div name="i18n" lang="ja">

## Wahid チュートリアル
ここでは二通りの方法で Wahid を使ってみます

</div>
<div name="i18n" lang="en">

## Wahid Tutorials
This tutorial describes how to use Wahid by two ways.

</div>
<div name="i18n" lang="ja">

### Adobe Flash Professional CC を使って Wahid を使ってみる

#### 1. Flash Professional CC で作成したプロジェクトを HTML5 コンテンツとして出力します
書き出し方は [Adobe のラーニングサイト](https://helpx.adobe.com/jp/animate/how-to/create-publish-html5-canvas-document.html) を参照してください。必要に応じて[サンプルプロジェクト](./assets/sample.zip)もご利用ください。このサンプルプロジェクトは Adobe Flash Professional 2014 で作成されています。

#### 2. ライブラリを置き換えます
書き出された HTML ファイルを開き、 CreateJS ライブラリを読み込んでいる箇所を削除します

    <script src="http://code.createjs.com/easeljs-0.7.1.min.js"></script>
    <script src="http://code.createjs.com/tweenjs-0.5.1.min.js"></script>
    <script src="http://code.createjs.com/movieclip-0.7.1.min.js"></script>
    <script src="http://code.createjs.com/soundjs-0.5.2.min.js"></script>
    <script src="http://code.createjs.com/preloadjs-0.4.1.min.js"></script>


そして Wahid ライブラリを読み込みます

    <script src="./createjs-min.js"></script>

基本的にはこれだけで Wahid を使ったプロジェクトを開始できます。

</div>
<div name="i18n" lang="en">


### Generating animations by Adobe Flash Professional CC

#### 1. Exporting HTML5 contents from Flash Professional CC

You can see how to publish HTML5 contents in [this Adobe site](https://helpx.adobe.com/animate/how-to/create-publish-html5-canvas-document.html).  You can also download [our sample project file](./assets/sample.zip), this project is created by Adobe Flash Professional 2014.

#### 2. Replacing libraries

Open the generated HTML file, remove script elements to read CreateJS.

    <script src="http://code.createjs.com/easeljs-0.7.1.min.js"></script>
    <script src="http://code.createjs.com/tweenjs-0.5.1.min.js"></script>
    <script src="http://code.createjs.com/movieclip-0.7.1.min.js"></script>
    <script src="http://code.createjs.com/soundjs-0.5.2.min.js"></script>
    <script src="http://code.createjs.com/preloadjs-0.4.1.min.js"></script>


And load Wahid library.

    <script src="./createjs-min.js"></script>

That's pretty much all you need to get started with Wahid.

</div>

<!-- actual demo -->
<canvas id="canvas" width="512px" height="512px"></canvas>
<script src="javascripts/clock.js"></script>
<script>
var canvas, stage, exportRoot;

function init() {
   canvas = document.getElementById("canvas");
   images = images||{};

   var loader = new createjs.LoadQueue(false);
   loader.addEventListener("fileload", onFileLoad);
   loader.addEventListener("complete", onComplete);
   loader.loadManifest(lib.properties.manifest);
}

function onFileLoad(evt) {
   if (evt.item.type == "image") { images[evt.item.id] = evt.result; }
}

function onComplete() {
   exportRoot = new lib.clock();

   stage = new createjs.Stage(canvas);
   stage.addChild(exportRoot);
   stage.update();
   stage.enableMouseOver();

   createjs.Ticker.setFPS(lib.properties.fps);
   createjs.Ticker.addEventListener("tick", stage);
}

init();
</script>

<div name="i18n" lang="ja">

### フルスクラッチで Wahid を試す

まず始めに、フルスクラッチで Wahid を使ったプロジェクトを作成することは推奨していません。Wahid は Adobe Flash Professional CC から出力したコードを、モバイルゲーム向けに高効率で動かすことに最適化されています。そのため Wahid に対応したコードをゼロから書くためにはいくらかコツが必要です。ここでは簡単な `"Hello, World!"` を紹介します。

</div>
<div name="i18n" lang="en">

### Try Wahid by hand coding

In the beggining, we do not recommended you to create new project with Wahid by hand coding.  Wahid is optimized for runs animations generated by Adobe Flash Professional CC efficiently on smartphone.  So it is not easy to write better code with Wahid.  We hope that this `Hello, World!` may help you to learn that.

</div>

#### Hello, World!

<div name="i18n" lang="ja">

Wahid は CreateJS とは異なり、一体化構造となっています。これは実アプリケーションでの実行効率を優先する設計の結果ですが、そのために `"Hello, World!"` でも一般的にゲームで利用される機能をまとめて初期化することにします。

Canvas エレメントを配置した上で、最初に使用するリソースを読み込むため LoadQueue を初期化して読み込みを開始します。

</div>
<div name="i18n" lang="en">

We designed Wahid as a monolithic architecture unlike that of CreateJS to improve runtime performance and to reduce memory consumption.  For that reason, it is better to initialize several functions used in a game together at first time.

Placing the `canvas` element, and initializing `LoadQueue` to load resources.

</div>

```HTML
<canvas id='myCanvas' width='512' height='512' style='background-color:#FFFFFF'></canvas>
```

```JavaScript
var myLoader, myCanvas, myStage, myImages;

var initialize = function() {
  myImages = [];
  var manifest = [{src:'images/c_88.png', id:'image'}];

  myLoader = new createjs.LoadQueue(false);
  myLoader.addEventListener('fileload', handleFileLoad);
  myLoader.addEventListener('complete', handleComplete);
  myLoader.loadManifest(manifest);
}

var handleFileLoad = function(event) {
  if (event.item.type == 'image') {
    myImages[event.item.id] = event.result;
  }
}
```

<div name="i18n" lang="ja">

読み込みが完了したら Canvas, Stage を初期化して、ゲームのコンテンツを生成します。
また Ticker も初期化し、フレームごとの更新を開始します。

</div>
<div name="i18n" lang="en">

On complete loading that, initialize `Canvas` and `Stage` instances and generate game contents.
Also initialize `Ticker`, start updating frame.

</div>

```JavaScript
var handleComplete = function() {
  myCanvas = document.getElementById('myCanvas');
  myStage = new createjs.Stage(myCanvas);
  myStage.addChild(initializeContents());
  myStage.update();

  createjs.Ticker.setFPS(60);
  createjs.Ticker.addEventListener('tick', myStage);
}
```

<div name="i18n" lang="ja">

コンテンツは MovieClip にまとめます。その下に Timeline、Tween を初期化します。また MovieClip に DisplayObject をぶら下げます。あとは登録されたアニメーションが再生されます。

</div>
<div name="i18n" lang="en">

All our contents are placed in a `MovieClip`.  Initialize `Timeline` and `Tween` in the `MovieClip`.  Add `DisplayObject` as a child of the `MovieClip`.  Hello, Wahid :D

</div>

```JavaScript
var initializeContents = function() {
  var mc = new createjs.MovieClip(null, 0, true, {});

  var bitmap = new createjs.Bitmap(myImages['image']);
  mc.addChild(bitmap);

  var tween = createjs.Tween.get(bitmap, {useTicks:true}).to({rotation:360},300);
  mc.timeline.addTween(tween);

  var text = new createjs.Text('Hello World!', '72px Ariel bold', '#333');
  text.regX = text.getMeasuredWidth() / 2;
  text.regY = text.getMeasuredHeight() / 2;
  mc.addChild(text);

  mc.x = mc.y = 256;
  return mc;
}

initialize();
```

<canvas id='myCanvas' width='512' height='512' style='background-color:#FFFFFF'></canvas>
<script>
var myLoader, myCanvas, myStage, myImages;

var initialize = function() {
  myImages = [];
  var manifest = [{src:'images/c_88.png', id:'image'}];

  myLoader = new createjs.LoadQueue(false);
  myLoader.addEventListener('fileload', handleFileLoad);
  myLoader.addEventListener('complete', handleComplete);
  myLoader.loadManifest(manifest);
}

var handleFileLoad = function(event) {
  if (event.item.type == 'image') {
    myImages[event.item.id] = event.result;
  }
}

var handleComplete = function() {
  myCanvas = document.getElementById('myCanvas');
  myStage = new createjs.Stage(myCanvas);
  myStage.addChild(initializeContents());
  myStage.update();

  createjs.Ticker.setFPS(60);
  createjs.Ticker.addEventListener('tick', myStage);
}

var initializeContents = function() {
  var mc = new createjs.MovieClip(null, 0, true, {});

  var bitmap = new createjs.Bitmap(myImages['image']);
  mc.addChild(bitmap);

  var tween = createjs.Tween.get(bitmap, {useTicks:true}).to({rotation:360},300);
  mc.timeline.addTween(tween);

  var text = new createjs.Text('Hello World!', '72px Ariel bold', '#333');
  text.regX = text.getMeasuredWidth() / 2;
  text.regY = text.getMeasuredHeight() / 2;
  mc.addChild(text);

  mc.x = mc.y = 256;
  return mc;
}

initialize();
</script>

<div name="i18n" lang="ja">

#### 動かない場合は
CreateJS を Wahid に置き換えただけでは動かない場合もあります。多くの場合はコンテンツが Wahid が対応していない機能を使っていたり、Wahid では推奨されない実装方法が使われていることが原因です。Wahid ライブラリをデバッグ版に置き換え、コンソールログを確認してください。また [FAQ](./faqs.html) もご確認ください。

個別の機能について動作させるコードスニペットはテストコードにも含まれています。[Specs ディレクトリ](https://github.com/DeNADev/wahid/tree/master/tests/spec)配下のコードもご覧ください。


[戻る](./index.html)

</div>
<div name="i18n" lang="en">

#### Something is wrong...
Sometimes it does not work well with Wahid.  In many cases, it uses unimplemented functions is Wahid and there are more better method in this library.  To check console logs, replase this library with debug version of it.  We hope that [FAQ](./faqs.html) is useful for you.

There are some code snipetts in our test code, please also see [Specs directory](https://github.com/DeNADev/wahid/tree/master/tests/spec).

[Home](./index.html)

</div>

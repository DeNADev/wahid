/**
 * The MIT License (MIT)
 *
 * Copyright (c) 2016 DeNA Co., Ltd.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */

(function (lib, img, cjs) {

var p; // shortcut to reference prototypes

// library properties:
lib.properties = {
	width: 512,
	height: 512,
	fps: 15,
	color: "#FFFFFF",
	manifest: [
		{src:"images/c_01.png", id:"c_01"},
		{src:"images/c_02.png", id:"c_02"},
		{src:"images/c_03.png", id:"c_03"},
		{src:"images/c_04.png", id:"c_04"},
		{src:"images/c_05.png", id:"c_05"},
		{src:"images/c_06.png", id:"c_06"},
		{src:"images/c_07.png", id:"c_07"},
		{src:"images/c_08.png", id:"c_08"},
		{src:"images/c_09.png", id:"c_09"},
		{src:"images/c_10.png", id:"c_10"},
		{src:"images/c_11.png", id:"c_11"},
		{src:"images/c_12.png", id:"c_12"},
		{src:"images/c_13.png", id:"c_13"},
		{src:"images/c_14.png", id:"c_14"},
		{src:"images/c_15.png", id:"c_15"},
		{src:"images/c_16.png", id:"c_16"},
		{src:"images/c_17.png", id:"c_17"},
		{src:"images/c_18.png", id:"c_18"},
		{src:"images/c_19.png", id:"c_19"},
		{src:"images/c_20.png", id:"c_20"},
		{src:"images/c_21.png", id:"c_21"},
		{src:"images/c_22.png", id:"c_22"},
		{src:"images/c_23.png", id:"c_23"},
		{src:"images/c_24.png", id:"c_24"},
		{src:"images/c_25.png", id:"c_25"},
		{src:"images/c_26.png", id:"c_26"},
		{src:"images/c_27.png", id:"c_27"},
		{src:"images/c_28.png", id:"c_28"},
		{src:"images/c_29.png", id:"c_29"},
		{src:"images/c_30.png", id:"c_30"},
		{src:"images/c_31.png", id:"c_31"}
	]
};



// symbols:



(lib.c_01 = function() {
	this.initialize(img.c_01);
}).prototype = p = new cjs.Bitmap();
p.nominalBounds = new cjs.Rectangle(0,0,128,128);


(lib.c_02 = function() {
	this.initialize(img.c_02);
}).prototype = p = new cjs.Bitmap();
p.nominalBounds = new cjs.Rectangle(0,0,128,128);


(lib.c_03 = function() {
	this.initialize(img.c_03);
}).prototype = p = new cjs.Bitmap();
p.nominalBounds = new cjs.Rectangle(0,0,128,128);


(lib.c_04 = function() {
	this.initialize(img.c_04);
}).prototype = p = new cjs.Bitmap();
p.nominalBounds = new cjs.Rectangle(0,0,128,128);


(lib.c_05 = function() {
	this.initialize(img.c_05);
}).prototype = p = new cjs.Bitmap();
p.nominalBounds = new cjs.Rectangle(0,0,128,128);


(lib.c_06 = function() {
	this.initialize(img.c_06);
}).prototype = p = new cjs.Bitmap();
p.nominalBounds = new cjs.Rectangle(0,0,128,128);


(lib.c_07 = function() {
	this.initialize(img.c_07);
}).prototype = p = new cjs.Bitmap();
p.nominalBounds = new cjs.Rectangle(0,0,128,128);


(lib.c_08 = function() {
	this.initialize(img.c_08);
}).prototype = p = new cjs.Bitmap();
p.nominalBounds = new cjs.Rectangle(0,0,128,128);


(lib.c_09 = function() {
	this.initialize(img.c_09);
}).prototype = p = new cjs.Bitmap();
p.nominalBounds = new cjs.Rectangle(0,0,128,128);


(lib.c_10 = function() {
	this.initialize(img.c_10);
}).prototype = p = new cjs.Bitmap();
p.nominalBounds = new cjs.Rectangle(0,0,128,128);


(lib.c_11 = function() {
	this.initialize(img.c_11);
}).prototype = p = new cjs.Bitmap();
p.nominalBounds = new cjs.Rectangle(0,0,128,128);


(lib.c_12 = function() {
	this.initialize(img.c_12);
}).prototype = p = new cjs.Bitmap();
p.nominalBounds = new cjs.Rectangle(0,0,128,128);


(lib.c_13 = function() {
	this.initialize(img.c_13);
}).prototype = p = new cjs.Bitmap();
p.nominalBounds = new cjs.Rectangle(0,0,128,128);


(lib.c_14 = function() {
	this.initialize(img.c_14);
}).prototype = p = new cjs.Bitmap();
p.nominalBounds = new cjs.Rectangle(0,0,128,128);


(lib.c_15 = function() {
	this.initialize(img.c_15);
}).prototype = p = new cjs.Bitmap();
p.nominalBounds = new cjs.Rectangle(0,0,128,128);


(lib.c_16 = function() {
	this.initialize(img.c_16);
}).prototype = p = new cjs.Bitmap();
p.nominalBounds = new cjs.Rectangle(0,0,128,128);


(lib.c_17 = function() {
	this.initialize(img.c_17);
}).prototype = p = new cjs.Bitmap();
p.nominalBounds = new cjs.Rectangle(0,0,128,128);


(lib.c_18 = function() {
	this.initialize(img.c_18);
}).prototype = p = new cjs.Bitmap();
p.nominalBounds = new cjs.Rectangle(0,0,128,128);


(lib.c_19 = function() {
	this.initialize(img.c_19);
}).prototype = p = new cjs.Bitmap();
p.nominalBounds = new cjs.Rectangle(0,0,128,128);


(lib.c_20 = function() {
	this.initialize(img.c_20);
}).prototype = p = new cjs.Bitmap();
p.nominalBounds = new cjs.Rectangle(0,0,128,128);


(lib.c_21 = function() {
	this.initialize(img.c_21);
}).prototype = p = new cjs.Bitmap();
p.nominalBounds = new cjs.Rectangle(0,0,128,128);


(lib.c_22 = function() {
	this.initialize(img.c_22);
}).prototype = p = new cjs.Bitmap();
p.nominalBounds = new cjs.Rectangle(0,0,128,128);


(lib.c_23 = function() {
	this.initialize(img.c_23);
}).prototype = p = new cjs.Bitmap();
p.nominalBounds = new cjs.Rectangle(0,0,128,128);


(lib.c_24 = function() {
	this.initialize(img.c_24);
}).prototype = p = new cjs.Bitmap();
p.nominalBounds = new cjs.Rectangle(0,0,128,128);


(lib.c_25 = function() {
	this.initialize(img.c_25);
}).prototype = p = new cjs.Bitmap();
p.nominalBounds = new cjs.Rectangle(0,0,128,128);


(lib.c_26 = function() {
	this.initialize(img.c_26);
}).prototype = p = new cjs.Bitmap();
p.nominalBounds = new cjs.Rectangle(0,0,128,128);


(lib.c_27 = function() {
	this.initialize(img.c_27);
}).prototype = p = new cjs.Bitmap();
p.nominalBounds = new cjs.Rectangle(0,0,128,128);


(lib.c_28 = function() {
	this.initialize(img.c_28);
}).prototype = p = new cjs.Bitmap();
p.nominalBounds = new cjs.Rectangle(0,0,128,128);


(lib.c_29 = function() {
	this.initialize(img.c_29);
}).prototype = p = new cjs.Bitmap();
p.nominalBounds = new cjs.Rectangle(0,0,128,128);


(lib.c_30 = function() {
	this.initialize(img.c_30);
}).prototype = p = new cjs.Bitmap();
p.nominalBounds = new cjs.Rectangle(0,0,128,128);


(lib.c_31 = function() {
	this.initialize(img.c_31);
}).prototype = p = new cjs.Bitmap();
p.nominalBounds = new cjs.Rectangle(0,0,128,128);


(lib.sec = function() {
	this.initialize();

	// レイヤー 1
	this.shape = new cjs.Shape();
	this.shape.graphics.f().s("#333333").ss(2,2,1).p("AgGGzQADAAADAAQAYAAAQAQQARARAAAYQAAADAAACQgCAVgPAPQgQARgYAAQgXAAgRgRQgPgPgBgVQAAgCAAgDQAAgYAQgRQAPgOATgCgAgGIvIAADhAgGsPIAATC");
	this.shape.setTransform(0,78.5);

	this.shape_1 = new cjs.Shape();
	this.shape_1.graphics.f("#666666").s().p("AgoAjQgPgPgBgUQABgUAPgOQAPgPATgCIAGAAQAXAAARARQAPAOACAUQgCAUgPAPQgRARgXAAQgXAAgRgRg");
	this.shape_1.setTransform(0,128.3);

	this.addChild(this.shape_1,this.shape);
}).prototype = p = new cjs.Container();
p.nominalBounds = new cjs.Rectangle(-6.7,-1,13.6,159);


(lib.pivot = function() {
	this.initialize();

	// レイヤー 1
	this.shape = new cjs.Shape();
	this.shape.graphics.rf(["#FFFFFF","#000000"],[0,1],0,0,0,0,0,16.7).s().p("AhyBzQgvgwAAhDQAAhCAvgwQAwgvBCAAQBDAAAwAvQAvAwAABCQAABDgvAwQgwAvhDAAQhCAAgwgvg");

	this.addChild(this.shape);
}).prototype = p = new cjs.Container();
p.nominalBounds = new cjs.Rectangle(-16.2,-16.2,32.5,32.5);


(lib.min = function() {
	this.initialize();

	// レイヤー 1
	this.shape = new cjs.Shape();
	this.shape.graphics.f().s("#333333").ss(2,1,1).p("As9ADIZ7gF");
	this.shape.setTransform(83,-0.8);

	this.shape_1 = new cjs.Shape();
	this.shape_1.graphics.f().s("#333333").ss(4,1,1).p("As9gEII6h4IRBBxIxLCIg");
	this.shape_1.setTransform(83,0);

	this.shape_2 = new cjs.Shape();
	this.shape_2.graphics.f("#666666").s().p("As9gEIZ6gGIxKCHgAkDh8IRAByI56AGgAM9gKg");
	this.shape_2.setTransform(83,0);

	this.addChild(this.shape_2,this.shape_1,this.shape);
}).prototype = p = new cjs.Container();
p.nominalBounds = new cjs.Rectangle(-2,-14.5,170,29);


(lib.hour = function() {
	this.initialize();

	// レイヤー 1
	this.shape = new cjs.Shape();
	this.shape.graphics.f().s("#333333").ss(2,1,1).p("AAKpSIgTSl");
	this.shape.setTransform(1,-59.5);

	this.shape_1 = new cjs.Shape();
	this.shape_1.graphics.f().s("#333333").ss(4,1,1).p("AAAJTIizleIDHtHICgNHg");
	this.shape_1.setTransform(0,-59.5);

	this.shape_2 = new cjs.Shape();
	this.shape_2.graphics.f("#666666").s().p("AAAJTIATykIChNFIi0FfgAizD0IDGtFIgTSkgAATpRg");
	this.shape_2.setTransform(0,-59.5);

	this.addChild(this.shape_2,this.shape_1,this.shape);
}).prototype = p = new cjs.Container();
p.nominalBounds = new cjs.Rectangle(-20,-121,40,123);


(lib.board = function() {
	this.initialize();

	// レイヤー 1
	this.text = new cjs.Text("11", "bold 48px 'Arial'");
	this.text.textAlign = "center";
	this.text.lineHeight = 50;
	this.text.lineWidth = 54;
	this.text.setTransform(-93.5,-184.7);

	this.text_1 = new cjs.Text("10", "bold 48px 'Arial'");
	this.text_1.textAlign = "center";
	this.text_1.lineHeight = 50;
	this.text_1.lineWidth = 54;
	this.text_1.setTransform(-165.5,-113.7);

	this.text_2 = new cjs.Text("9", "bold 48px 'Arial'");
	this.text_2.textAlign = "center";
	this.text_2.lineHeight = 50;
	this.text_2.lineWidth = 54;
	this.text_2.setTransform(-179.5,-24.7);

	this.text_3 = new cjs.Text("8", "bold 48px 'Arial'");
	this.text_3.textAlign = "center";
	this.text_3.lineHeight = 50;
	this.text_3.lineWidth = 54;
	this.text_3.setTransform(-165.5,68.3);

	this.text_4 = new cjs.Text("7", "bold 48px 'Arial'");
	this.text_4.textAlign = "center";
	this.text_4.lineHeight = 50;
	this.text_4.lineWidth = 54;
	this.text_4.setTransform(-93.5,138.2);

	this.text_5 = new cjs.Text("6", "bold 48px 'Arial'");
	this.text_5.textAlign = "center";
	this.text_5.lineHeight = 50;
	this.text_5.lineWidth = 54;
	this.text_5.setTransform(-6.5,150.2);

	this.text_6 = new cjs.Text("5", "bold 48px 'Arial'");
	this.text_6.textAlign = "center";
	this.text_6.lineHeight = 50;
	this.text_6.lineWidth = 54;
	this.text_6.setTransform(88.5,138.2);

	this.text_7 = new cjs.Text("4", "bold 48px 'Arial'");
	this.text_7.textAlign = "center";
	this.text_7.lineHeight = 50;
	this.text_7.lineWidth = 54;
	this.text_7.setTransform(156.5,68.3);

	this.text_8 = new cjs.Text("3", "bold 48px 'Arial'");
	this.text_8.textAlign = "center";
	this.text_8.lineHeight = 50;
	this.text_8.lineWidth = 54;
	this.text_8.setTransform(174.5,-24.7);

	this.text_9 = new cjs.Text("2", "bold 48px 'Arial'");
	this.text_9.textAlign = "center";
	this.text_9.lineHeight = 50;
	this.text_9.lineWidth = 54;
	this.text_9.setTransform(160.5,-113.7);

	this.text_10 = new cjs.Text("1", "bold 48px 'Arial'");
	this.text_10.textAlign = "center";
	this.text_10.lineHeight = 50;
	this.text_10.lineWidth = 54;
	this.text_10.setTransform(88.5,-184.7);

	this.text_11 = new cjs.Text("12", "bold 48px 'Arial'");
	this.text_11.textAlign = "center";
	this.text_11.lineHeight = 50;
	this.text_11.lineWidth = 54;
	this.text_11.setTransform(1.2,-198.4);

	this.shape = new cjs.Shape();
	this.shape.graphics.f().s("#000000").ss(3,1,1).p("AQQdDIwsEPIwlksIsBsWIkPwsIEswlIMWsBIQskPIQlEsIMBMWIEPQsIksQlg");
	this.shape.setTransform(-1,-1);

	this.shape_1 = new cjs.Shape();
	this.shape_1.graphics.f("#CCCCCC").s().p("AxAclIsCsWIkPwqIEtwlIMVsCIQrkPIQmEtIMAMVIEQQrIktQmIsWMBIwqEPg");
	this.shape_1.setTransform(-1,-1);

	this.addChild(this.shape_1,this.shape,this.text_11,this.text_10,this.text_9,this.text_8,this.text_7,this.text_6,this.text_5,this.text_4,this.text_3,this.text_2,this.text_1,this.text);
}).prototype = p = new cjs.Container();
p.nominalBounds = new cjs.Rectangle(-215.5,-215.5,429,429);


(lib.anim = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// レイヤー 1
	this.instance = new lib.c_01();

	this.instance_1 = new lib.c_02();

	this.instance_2 = new lib.c_03();

	this.instance_3 = new lib.c_04();

	this.instance_4 = new lib.c_05();

	this.instance_5 = new lib.c_06();

	this.instance_6 = new lib.c_07();

	this.instance_7 = new lib.c_08();

	this.instance_8 = new lib.c_09();

	this.instance_9 = new lib.c_10();

	this.instance_10 = new lib.c_11();

	this.instance_11 = new lib.c_12();

	this.instance_12 = new lib.c_13();

	this.instance_13 = new lib.c_14();

	this.instance_14 = new lib.c_15();

	this.instance_15 = new lib.c_16();

	this.instance_16 = new lib.c_17();

	this.instance_17 = new lib.c_18();

	this.instance_18 = new lib.c_19();

	this.instance_19 = new lib.c_20();

	this.instance_20 = new lib.c_21();

	this.instance_21 = new lib.c_22();

	this.instance_22 = new lib.c_23();

	this.instance_23 = new lib.c_24();

	this.instance_24 = new lib.c_25();

	this.instance_25 = new lib.c_26();

	this.instance_26 = new lib.c_27();

	this.instance_27 = new lib.c_28();

	this.instance_28 = new lib.c_29();

	this.instance_29 = new lib.c_30();

	this.instance_30 = new lib.c_31();

	this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.instance}]}).to({state:[{t:this.instance_1}]},1).to({state:[{t:this.instance_2}]},1).to({state:[{t:this.instance_3}]},1).to({state:[{t:this.instance_4}]},1).to({state:[{t:this.instance_5}]},1).to({state:[{t:this.instance_6}]},1).to({state:[{t:this.instance_7}]},1).to({state:[{t:this.instance_8}]},1).to({state:[{t:this.instance_9}]},1).to({state:[{t:this.instance_10}]},1).to({state:[{t:this.instance_11}]},1).to({state:[{t:this.instance_12}]},1).to({state:[{t:this.instance_13}]},1).to({state:[{t:this.instance_14}]},1).to({state:[{t:this.instance_15}]},1).to({state:[{t:this.instance_16}]},1).to({state:[{t:this.instance_17}]},1).to({state:[{t:this.instance_18}]},1).to({state:[{t:this.instance_19}]},1).to({state:[{t:this.instance_20}]},1).to({state:[{t:this.instance_21}]},1).to({state:[{t:this.instance_22}]},1).to({state:[{t:this.instance_23}]},1).to({state:[{t:this.instance_24}]},1).to({state:[{t:this.instance_25}]},1).to({state:[{t:this.instance_26}]},1).to({state:[{t:this.instance_27}]},1).to({state:[{t:this.instance_28}]},1).to({state:[{t:this.instance_29}]},1).to({state:[{t:this.instance_30}]},1).wait(1));

}).prototype = p = new cjs.MovieClip();
p.nominalBounds = new cjs.Rectangle(0,0,128,128);


// stage content:
(lib.clock = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{pivot:0,second:0,"second":599,minite:0,"minite":599,hour:0,"hour":599,board:0});

	// timeline functions:
	this.frame_0 = function() {
		// Initialize "date" animation.
		if (typeof this.datePos === 'undefined') {
			this.datePos = 0;
			this.date.gotoAndStop(this.datePos);
		
			// Check colision between hour-hand and this hitArea.
			var hitArea = new cjs.Shape();
			this.getStage().addChild(hitArea);
			hitArea.graphics.beginFill(cjs.Graphics.getRGB(0,0,0,0.25))
				.drawRect(304.6, 307.9, 64, 64);
		
			var pos = {};
			pos.x = 0;
			pos.y = -this.hour.nominalBounds.height;
		
			this.dateHitArea = hitArea;
			this.prevHit = null;
			this.skipCounter = 0;
			var that = this;
			cjs.Ticker.addEventListener('tick', function() {
				if (0 < that.skipCounter) {
					--that.skipCounter;
				} else {
					// If hour-hand hits 'date' area, advace the date.
					var now = that.hour.localToGlobal(pos.x, pos.y);
					var underHourHand = that.getStage().getObjectUnderPoint(now.x, now.y);
					if (underHourHand == that.dateHitArea) {
						that.dateHitArea.alpha = 0;
						if (that.prevHit !== that.dateHitArea) {
							++that.datePos;
							that.date.gotoAndStop(that.datePos);
							that.skipCounter = 60; // Skip this hit test while 60 ticks.
						}
					} else {
						that.dateHitArea.alpha = 1;
					}
					that.prevHit = underHourHand;
				}
			});
		}
	}

	// actions tween:
	this.timeline.addTween(cjs.Tween.get(this).call(this.frame_0).wait(600));

	// Pivot
	this.instance = new lib.pivot();
	this.instance.setTransform(257,265);

	this.timeline.addTween(cjs.Tween.get(this.instance).wait(600));

	// Second
	this.second = new lib.sec();
	this.second.setTransform(258,265.4,1,1,0,180,0);

	this.timeline.addTween(cjs.Tween.get(this.second).to({rotation:21600},599).wait(1));

	// Minite
	this.minite = new lib.min();
	this.minite.setTransform(258.5,270,1,1,-90);

	this.timeline.addTween(cjs.Tween.get(this.minite).to({rotation:2070},599).wait(1));

	// Hour
	this.hour = new lib.hour();
	this.hour.setTransform(259,266);

	this.timeline.addTween(cjs.Tween.get(this.hour).to({rotation:360},599).wait(1));

	// Board
	this.date = new lib.anim();
	this.date.setTransform(368.6,343.9,0.5,0.5,0,0,0,128,72);

	this.board = new lib.board();
	this.board.setTransform(256,265);

	this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.board},{t:this.date}]}).to({state:[{t:this.board},{t:this.date}]},599).wait(1));

}).prototype = p = new cjs.MovieClip();
p.nominalBounds = new cjs.Rectangle(296.5,305.5,429,429);

})(lib = lib||{}, images = images||{}, createjs = createjs||{});
var lib, images, createjs;